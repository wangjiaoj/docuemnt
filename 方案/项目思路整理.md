# 常规项目前端设计思路
## 一、换肤功能思路

[前端自定义换肤功能](https://www.jianshu.com/p/10dbfb179fca)

### 1.1. 提供固定几种的皮肤给用户选择

1. 设计几种固定theme的css,并且全部加载,用户通过选择某一套皮肤实现换肤



### 1.2.在线皮肤定制

2.用户直接通过拾色器来完全自定义皮肤

webpack项目,可以通过webpack插件实现：
[webpack插件实现自动抽取css中的主题色样式，并一键动态切换主题色](https://segmentfault.com/a/1190000016061608#comment-area)

## 二、伪单页面
### 2.1 利用iframe实现伪单页面应用思路
1. 适用范围
系统主要由登录页面,登录后统一结构的登录后页面(类后台管理系统)构成。
想要实现类似单页面应用的效果,但直接改造成单页面应用成本太高的类后台管理系统项目。
想要实现页面内类多标签展示效果的类后台管理系统项目。

2. 实现思路简单描述 
1)、概念：
登录页面Login;
登陆后统一页面Index;

2)、基础思路

* Login登录完成后,统一跳转到Index页面,所以需要把页面外侧框架统一的侧边栏,头部,底部,消息栏相关逻辑都调整到Index中去,中间空白主页面Main部分使用iframe控制页面展示;

* 登录后其他页面统一改造成iframe的形式嵌入到Index页面中去。

3. 页面内类多标签展示效果
 Main区域设置成tab页效果,把通用的tab操作作为单独的函数整理暴露出来。
 相关逻辑:
* 增加路由Router相关控制：
   路由Router检验是否已经打开当前tab页，是的话通过校验,并新建tab页;否则找到对应tab页Id,设置选中展示状态,并根据刷新状态对页面进行刷新。
   一般直接使用URL链接判断校验即可，无需考虑URL后拼接的参数。
* tab标签的创建：
  传递(tab名,URL,刷新状态)作为参数,经过路由Router检验是否是新增tab页,新增tab页,需要创建新tab栏，并创建iframe打开新链接

* 报错页面处理：
  目前主要两种报错,一种ajax数据请求时接口报错(一般会拦截统一弹窗提示处理),另一种情况是dom页面返回报错(可能存在页面强制跳转)。
 对于嵌入的iframe页面, 强制跳转到报错页面,影响也不太大,。
* 需要统一页面数据传递
  通用方法包装处理一下iframe页面和父页面的通信。可能存在一些iframe内嵌页面点击,需要新开一个tab页或刷新父页面等逻辑。

4. 注意功能点
Index页面的组件和样式需要统一打包。
其他嵌入的iframe页面引入的通用js组件和css可以再统一调整打包。


## 三、单页面应用